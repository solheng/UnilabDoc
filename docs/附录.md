# 附录(API大全)

本文档仅收录与二次开发强相关的api

更全面的Unicall的接口文档请参考 [gitee知识库](https://e.gitee.com/rhotheta/projects/55605/docs?direction=asc&directory=291338&page=1&program_id=55605&scope=root&sort=updated_at).

## DOE任务

* `mkdocs new [dir-name]` - Create a new project.
* `mkdocs serve` - Start the live-reloading docs server.
* `mkdocs build` - Build the documentation site.
* `mkdocs -h` - Print help message and exit.
### [POST]添加DOE任务


 **接口路径** 

```
api/task/sampling/add
```

 **参数** 

```
ModelID             : int       计算模型ID
Name                ：string    任务名称
Description         ：string    任务描述
SampleMethod        ：string    DOE方法（目前只有uniform和evaluation两个，uniform是均匀采样算法，需要指定采样规模；evaluation是此前的批量评估任务）
SampleSize          ：int       采样规模，主要服务于采样算法，因此DOE算法选择evaluation时，传null
SampleParameter     : json      采样算法其它参数

SampleParameter
{
变量ID              : json      变量基础信息
}

变量ID
{
is_active           : bool      是否作为采样变量标记
level               ：int       采样水平
lower               ：float     变量下限
upper               ：float     变量上限
value               ：float     变量默认值
}
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [GET]获取DOE任务信息


 **接口路径** 

```
api/task/sampling/get_one
```

 **参数** 

```
ID         : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [POST]更新DOE任务


 **接口路径** 

```
api/task/sampling/update
```

 **参数** 

```
ID                  : int       任务ID
Name                ：string    任务名称
Description         ：string    任务描述
SampleMethod        ：string    DOE方法（目前只有uniform和evaluation两个，uniform是均匀采样算法，需要指定采样规模；evaluation是此前的批量评估任务）
SampleSize          ：int       采样规模，主要服务于采样算法，因此DOE算法选择evaluation时，传null
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [POST]删除DOE任务


 **接口路径** 

```
api/task/sampling/delete
```

 **参数** 

```
ID           : int       任务ID
ClearCWD     ：bool      是否删除工程文件夹
```

 **返回值** 

```
接口报错
```





### [GET]获取DOE任务静态信息


 **接口路径** 

```
api/task/sampling/state/get_static
```

 **参数** 

```
ID              : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    TaskID,            # int, 任务ID
	TaskName,          # string 任务名称
	Timeout,           # int, 超时时间限定？
	SampleSize,        # int, 采样规模
	State,             # int, 任务状态
	SubmitTime,        # float, 任务提交时间
	StartTime,         # float, 任务开始执行时间
	RunTime,           # float, 任务持续时间（单位是秒）
	ModelID,           # int, 计算模型ID
    ModelName,         # string, 模型名称
} 
```




### [GET]获取DOE任务实时信息


 **接口路径** 

```
api/task/sampling/state/get_realtime
```

 **参数** 

```
ID              : int       任务ID
Time            ：float     时间戳
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    TaskID             # int, 任务ID
	State              # int, 任务状态
    Time,              # float, 当前时间戳
	RunningTime,       # float, 任务运行时长（单位是秒）
	SucceededCount,    # int, 成功算例个数
	FailedCount,       # int, 失败算例个数
	RunningCount,      # int, 计算中的算例个数
	Error,             # string, 任务错误信息
	Data[case,]        # list of json, 算例信息列表
} 

case
{
    Result,            # json, 算例结果信息
	RunningTime,       # float, 算例计算持续时间
	Progress,          # int, 不知道是啥玩意
	Logs[log,]         # list of json, 节点运行日志信息
}

log
{
    ID                 # int, 算例ID
	node_url           # string, 模型名称/节点名称
	start_time         # float, 节点开始执行时间
	end_time           # float, 节点执行结束时间
	elapsed            # float, 节点执行持续时间（单位是秒）
}

Result
{
    ID,                # int, 算例ID
	start,             # float, 开始时间
	state,             # int, 算例状态
	end,               # float, 结束时间
	data,              # json, 算例变量信息
	err,               # string, 算例错误信息
}

data
{
    变量名             # float, 变量值
	_cwd_              # string, 算例工程路径
}
```




### [GET]获取DOE任务结果信息


 **接口路径** 

```
api/task/sampling/result/get_summary
```

 **参数** 

```
ID              : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务结果信息
}

ResponseContent:
{
    TaskID             # int, 任务ID
	TaskName           # string, 任务名称
	ModelID            # int, 计算模型ID
	CWD                # string, 任务工程路径
	ModelName          # string, 计算模型名称
	SampleSize         # int, 采样规模
	Success            # int, 成功算例个数
	StartTime          # float, 任务开始时间
	EndTime            # float, 任务结束时间
	Error              # string, 任务执行错误信息
} 
```





### [POST]获取DOE任务变量名称列表


 **接口路径** 

```
api/task/sampling/result/get_columns
```

 **参数** 

```
TaskID              : int       任务ID
```

 **返回值** 

```
接口报错
```




### [GET]获取DOE任务算例数量


 **接口路径** 

```
api/task/sampling/result/count
```

 **参数** 

```
TaskID              : int       任务ID
Where               : string    筛选条件，可以不传该参数
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，算例数量
}
```

### [GET]获取DOE任务算例信息


 **接口路径** 

```
api/task/sampling/result/select
```

 **参数** 

```
TaskID              : int       任务ID
Where               : string    筛选条件
PageSize            : int       单页显示算例个数
PageNo              : int       页数
```

 **返回值** 

```
{
    ResponseCode              # int，返回状态。正常为0，错误为非0值
	ResponseName              # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg               # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[Data,]    # list of json，算例信息
}	

Data
{
    ID                        # int, 算例ID
    变量名                    # float, 变量值	
}
```
### [GET]获取所有批量评估表格


 **接口路径** 

```
/api/evalinput/input_table/get_all
```

 **参数** 

```
ModelID         ：int       计算模型ID
OptProblemID    ：int       优化问题ID
```

 **返回值** 

```
{
    ResponseCode                     # int，返回状态。正常为0，错误为非0值
    ResponseMsg                      # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[input_table,]    # list of json，输入变量表格基础信息
}

input_table:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
## 代理模型
### [GET]获取计算模型的全部代理模型

**接口路径**

```
api/calcmodel/surrogate/get_all
```

**参数**

```
ModelID  : int       计算模型ID
```

**返回值**

```
{
    ResponseCode                   # int，返回状态。正常为0，错误为非0值
    ResponseMsg                    # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[Surrogate,]    # list of json，代理模型列表
}

Surrogate:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted,  # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型，1表示计算模型本身，2表示训练，3表示替换，4表示引用
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 分布式节点密码，默认填"aipod"就行
    IsSaveIO,          # bool, 不知道是啥，杨总说通常是true
    StarTime,          # float, 进程启动时间
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [POST]新建代理模型

**接口路径**

```
api/calcmodel/surrogate/add
```

**参数**

```
Name            ：string    代理模型名称
ModelID         : int       计算模型ID
TypeID          ：int       代理模型类型，默认传2即可
IsDisableCwd    : bool      禁用工程文件夹标记，默认为ture即可
ExecTypeID      ：int       执行器类型ID，默认传1即可
RefModelID      ：int       参考计算模型ID，默认传1即可
RefSurrogateID  : int       参考代理模型ID，默认传0即可
WorkerNum       : int       进程数，默认传1即可
TaskTimeout     ：float     任务超时时间，始终默认为1即可
Password        ：string    分布式节点密码，默认填"123456"就行
IsSaveIO        : bool,     默认传true即可
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [GET]获取代理模型资源树

**接口路径**

```
api/calcmodel/surrogate/get_tree
```

**参数**

```
SurrogateID     : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型文件信息
}

ResponseContent:
{
    Surrogate,                    # json, 代理模型基础信息
    Nodes[Node],                  # list of json, 画布节点信息
    MassEvalTasks[MassEvalTask],  # list of json, 评估任务列表
    Problems[Problem],            # list of json, 优化问题列表
}

{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
}

Node
{
    ID,                # int, 代理模型ID
    CallUnitID,        # int, 计算单元ID
    Name,              # string, 代理模型名称
    Layout,            # json, 节点画布属性
}

Layout
{
    x,                # int, 节点在画布中的横坐标
    y,                # int, 节点在画布中的纵坐标
    type,             # int, 节点类型，-1是Output、0是Input、1是exe，2是func、3是graph、4是DT
    icon,             # string, 图标名称
    name,             # string, 节点名称
    label,            # string, 节点标注
}

MassEvalTask
{
}

Problem
{
    ID,                               # int, 优化问题ID
    Name,                             # string 优化问题名称
    Description,                      # string, 优化问题描述
    ModelID,                          # int, 计算模型ID
    CallUnitID,                       # int, 计算单元ID
    DvCount                           # int, 设计变量数目
    ObjCount                          # int, 目标变量数目
    ConCount                          # int, 约束条件数目
    opt_tasks[opt_task]               # list of json, 优化任务列表
    MassEvalTasks[MassEvalTask]       # list of json, 评估任务列表
}

opt_task
{
    ID,                               # int, 优化任务ID
    ModelID,                          # int, 计算模型ID
    CallUnitID,                       # int, 计算单元ID
    TypeID,                           # int, 任务类型ID？
    ExecTypeID,                       # int, 这啥？
    Name,                             # string 优化任务名称
    Description,                      # string, 优化任务描述
    State,                            # int, 任务状态，1未提交，2等待中，3运行中，4已完成
    StartTime,                        # float, 任务开始时间戳
    EndTime,                          # float, 任务结束时间戳
    TotalTime,                        # float, 任务执行时间
    Error,                            # string, 错误信息
}
```

### [POST]下载代理模型

**接口路径**

```
api/calcmodel/surrogate/download
```

**参数**

```
SurrogateID     : int       代理模型ID
```

**返回值**

```
代理模型文件
```

### [POST]删除代理模型

**接口路径**

```
api/calcmodel/surrogate/delete
```

**参数**

```
ID     : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除信息
}
```

### [POST]修改代理模型信息

**接口路径**

```
api/calcmodel/surrogate/update
```

**参数**

```
ID              : int       代理模型ID
Name            ：string    代理模型名称
IsDisableCwd    : bool      禁用工程文件夹标记，默认为ture即可
ExecTypeID      ：int       执行器类型ID
RefModelID      ：int       参考计算模型ID
RefSurrogateID  : int       参考代理模型ID
WorkerNum       : int       进程数
TaskTimeout     ：float     任务超时时间，始终默认为1即可
Password        ：string    默认为"aipod"即可
IsSaveIO        : bool,     不知道是啥
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    IsDTModelExisted,  # bool, DT模型文件是否已存在，已存在表示训练完成
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [GET]获取代理模型信息

**接口路径**

```
api/calcmodel/surrogate/get_one
```

**参数**

```
ID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [POST]快速评估

**接口路径**

```
api/calcmodel/surrogate/predict
```

**参数**

```
SurrogateID  ：int  代理模型ID
Inputs       : json 输入变量键值对
```

**返回值**

```
{
    ResponseCode          # int，返回状态。正常为0，错误为非0值
    ResponseMsg           # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent       # json，结果信息
}

ResponseContent:
{
    Error,            # string, 错误信息，若计算正常，其值为None
    Outputs,          # json, 输出变量键值对
}
```

### [GET]获取代理模型训练任务（状态）信息

**接口路径**

```
api/calcmodel/surrogate_train/get_task
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型训练任务（状态）信息
}

ResponseContent:
{
    ID,                # int, 代理模型训练任务ID
    Name,              # string 代理模型训练任务名称
    ModelID,           # int, 计算模型ID
    TypeID,            # int, 任务类型ID，5表示训练任务
    State,             # int, 训练任务状态，1未提交，2等待中，3运行中，4已完成
    Description,       # string, 代理模型训练任务描述
    SurrogateVersion,  # int, 代理模型版本，每提交一次训练任务后，版本会自动加1
    SampleSize,        # int, 采样数量
} 
```

### [POST]定义代理模型训练任务

**接口路径**

```
api/calcmodel/surrogate_train/save_task
```

**参数**

```
SurrogateID         : int       代理模型ID
SampleSize          ：int       采样数量
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型训练任务（状态）信息
}

ResponseContent:
{
    ID,                # int, 代理模型训练任务ID
    Name,              # string 代理模型训练任务名称
    ModelID,           # int, 计算模型ID
    TypeID,            # int, 任务类型ID，5表示训练任务
    State,             # int, 训练任务状态，1未提交，2等待中，3运行中，4已完成
    Description,       # string, 代理模型训练任务描述
    SurrogateVersion,  # int, 代理模型版本，每提交一次训练任务后，版本会自动加1
    SampleSize,        # int, 采样数量
} 
```

### [POST]提交代理模型训练任务

**接口路径**

```
api/calcmodel/surrogate_train/submit
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务结果信息
}

ResponseContent:
{
    ID,                 # int, 训练任务ID
    ModelID,            # int, 计算模型ID
    CallUnitID,         # int, 计算单元ID
    TypeID,             # int, 分析任务类型。2代表仿真任务
    ExecTypeID,         # int, 执行器类型ID
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    Description,        # string, 任务描述
    TotalTime,          # float, 任务持续时长（s）
    Name,               # string, 训练任务名称
    StartTime,          # float, 计算开始时间
    EndTime,            # float,计算结束时间
    Error,              # string， 执行错误信息
} 
```

### [GET]训练任务静态信息获取

**接口路径**

```
api/calcmodel/surrogate_train/get_static
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务静态信息
}

ResponseContent:
{
    TaskID,             # int, 训练任务ID
    TaskName,           # string, 训练任务名称
    TimeNeeded,         # float, 任务所需时间
    DataSetSize,        # int, 当前数据集规模
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    SubmitTime,         # float, 任务提交时间戳
    StartTime,          # float, 任务开始时间戳
    RunTime,            # float, 任务运行运行时长（s）
    ModelID,            # int, 计算模型ID
    ModelName,          # string, 计算模型名称
} 
```

### [GET]训练任务数据实时获取接口

**接口路径**

```
api/calcmodel/surrogate_train/get_realtime
```

**参数**

```
SurrogateID         : int       代理模型ID
Time                ：float     时间戳
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务实时信息
}

ResponseContent:
{
    TaskID,             # int, 训练任务ID
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    Time,               # float, 接口返回时间戳
    RunningTime,        # float, 任务运行运行时长（s）
    SucceededCount,     # int, 成功算例数
    FailedCount,        # int, 失败算例数
    RunningCount,       # int, 计算中算例数
    Data[Data,],        # list of json, 算例数据
    TrainState,         # list of json, 训练状态，不好卡时间点，问杨总吧……
} 

Data
{
    Result,             # json，算例结果信息
    RunningTime,        # float，算例运行时间
    Progress,           # int，不知道是啥
    Logs[log]           # list of json，节点日志信息
}

Result
{
    ID,                 # int，算例ID
    executor_name,      # float，执行器名称
    start,              # float，开始时间戳
    worker_name,        # string，worker名称，分布式的东西，暂不考虑
    lpid,               # int，不知道是啥
    state,              # int，算例状态？
    end,                # float，结束时间戳
    data,               # json，算例信息
    err,                # string，错误信息
}

data
{
    变量名,             # float，变量值
}

log
{
    ID,                 # int，算例ID
    node_url,           # string，节点url
    start_time,         # float，节点开始运行时间戳
    end_time,           # float，节点结束运行时间戳
    elapsed,            # float，节点运行持续时长（s）
    error,              # string，节点运行错误信息，若无则节点正常运行结束
    running_time,       # float，节点运行时长（s）
    progress,           # int，不知道是啥

}
```
## 优化任务
详见[gitee知识库-优化任务接口](https://e.gitee.com/rhotheta/projects/55605/docs/291339/file/730472?sub_id=2297727).
## 工程管理

### [post]添加单个流程接口
**接口路径**
```
/api/process/add
```
**参数**
```
{
    "Name":"2",
    "ParentID":2,
    "TypeID":3,
    "CustomName":"Graph",
    "ModelID":"",
    "ModelName":"",
    "Description":"",
    "ID":""
}
```
**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "ID": 25,
        "Name": "2",
        "Description": null,
        "ModelID": 14,
        "TypeID": 3,
        "CustomName": "Graph",
        "TemplateName": null,
        "Attributes": null,
        "CreationTime": "2022-05-09 15:08:35",
        "CreatorId": null,
        "LastModificationTime": null,
        "LastModifierId": null
    }
}
```
### [get]获取流程列表
**接口路径**
```
/api/process/get
```
**参数**
```
ParentID=1
```
**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": [
        {
            "ID": 2,
            "Name": "42storage",
            "Description": null,
            "ModelID": 1,
            "TypeID": 3,
            "CustomName": "42storage",
            "TemplateName": null,
            "Attributes": null,
            "CreationTime": "2022-05-15 16:44:09",
            "CreatorId": null,
            "LastModificationTime": "2022-05-15 16:44:09",
            "LastModifierId": null
        }
    ]
}
```
### [post]删除单个流程接口
**接口路径**
```
/api/process/delete
```
**参数**
```
{
    ID: 21, # process id
    IsDeleteCallUnit: "auto"
}
```
**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":true
}
```
### [post]修改流程节点（函数节点为例）
**接口路径**
```
/api/graph/node/update
```
**参数**
```
{
    "NodeID":24,  # 节点id
    "Name":"P1111",  # 修改后的函数节点名称
    "Description":"",
    "IsDistributed":false,
    "SlaveInfo":{
        "auto_allocate":false,
        "identity":""
    },
    "Function":"",  # 脚本内容 此处为空
    "Timeout":-1
}
```
**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":true
}
```
### [post]添加流程组接口
**接口路径**
```
/api/process/group/add
```
**参数**
```
{
    "CustomName": "Group",
    "Name": "test",
    "Description": "test Description",
    "ParentID": 0,
    "TemplateName": "xxx"  # 模板 可选参数
}
```
**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "ID": 23,
        "Name": "test",
        "Description": "test Description",
        "ModelID": 0,
        "TypeID": -1,
        "CustomName": "Group",
        "TemplateName": null,
        "Attributes": null,
        "CreationTime": "2022-05-09 14:45:20",
        "CreatorId": null,
        "LastModificationTime": null,
        "LastModifierId": null
    }
}
```
### [post]删除工程（流程组）
**接口路径**
```
/api/process/group/delete
```
**参数**
```
{
    "ID":32,  # process id  此id是一种特殊的process id 代指group 下属的流程就是 根据该process id 设置为自己的ParentID 进行关联
    "IsDeleteCallUnit":"auto"
}
```
**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":true
}
```
### 获取所有根部的分组(Process)以及分组的AIPOD项目接口
**接口路径**
```
/api/calcmodel/process/get_all
```
**参数**
```
ParentID：为0 ，表示获取根部的“文件夹”
          为ID， 获取其下的所有的AIPOD工程
```

**返回值**
```
列表，列表中的元素，
ID           主键，通过它能获取其他的对象
Name         名称
Description  描述说明
TypeID       工程的类型， -1表示是分组，否则就是AIPOD工程的类型
ModelID      AIPOD工程的ID，通过它来进入AIPOD的工程管理面板
CustomName   工程的类型名称
```

### [POST]添加工程接口
**接口路径**
```
/api/calcmodel/process/add
```
**参数**
```
Name         名称
Description  描述说明
ParentID     所属分组的ID
TypeID       在CalcModel的TypeID的基础上，增加了Group类型 为  -1
CustomName   工程的类型名称
```
### [post]修改工程接口
```
/api/calcmodel/process/update
```
**参数**
```
Name         名称
Description  描述说明
```

### [post]删除工程接口
```
/api/calcmodel/process/delete
```
**参数**
```
ID           主键
IsDeleteCallUnit   auto
```


### [GET]获取批量评估表格数量


 **接口路径** 

```
/api/evalinput/input_table/count
```

 **参数** 

```
ModelID         ：int       计算模型ID
OptProblemID    ：int       优化问题ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，评估表格数量
} 
```
## 执行器
### [POST/GET]执行器是否已启动判定接口


 **接口路径** 

```
api/executor/executor/is_running
```

 **参数** 

```
ModelID                # int，计算模型ID
SurrogateID            # int，代理模型ID，该参数可以不传，若不传则后端默认为该Model下IsRoot=true的的代理模型
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，true表示已经启动，false表示未启动
}
```
## 结果数据集
详见[gitee知识库-结果数据集接口文档](https://e.gitee.com/rhotheta/projects/55605/docs/617111/file/1483186?sub_id=4138023).
## 计算模型
### [GET]获取全部计算模型

**接口路径**

```
api/calcmodel/calcmodel/get_all
```

**返回值**

```
{
    ResponseCode               # int，返回状态。正常为0，错误为非0值
    ResponseName               # string，预留字段，暂未使用
    ResponseMsg                # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[Model,]    # list of json，所有计算模型列表
}

Model:
{
    ID,                # int, 计算模型ID
    Name,              # string, 计算模型名称
    Description,       # string, 计算模型描述
    CallUnitID,        # int, 计算单元ID
    TypeID,            # int, 计算模型类型，1代表exe计算模型、2代表func计算模型、3代表graph计算模型。
    CustomName,        # string, 计算模型类型名称
} 
```

### [POST]创建计算模型

**接口路径**

```
api/calcmodel/calcmodel/add
```

**参数**

```
Name        : string    计算模型名称
Description : string    计算模型描述
CallUnitID  : int       计算单元ID，始终填null即可
TypeID      : int       计算模型类型，始终填3即可，因为本项目中所有的计算流程都是graph类型
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，模型基础信息
}

ResponseContent:
{
    ID,                # int, 计算模型ID
    Name,              # string, 计算模型名称
    Description,       # string, 计算模型描述
    CallUnitID,        # int, 计算单元ID
    TypeID,            # int, 计算模型类型，1代表exe计算模型、2代表func计算模型、3代表graph计算模型。
    CustomName,        # string, 计算模型类型名称
} 
```

### [GET]获取计算模型信息

**接口路径**

```
api/calcmodel/calcmodel/get_info
```

**参数**

```
ID  : int       计算模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，计算模型信息
}

ResponseContent:
{
    ID,                # int, 计算模型ID
    GraphID,           # int, 图ID
    CallUnitID,        # int, 计算单元ID
    IsPrivateCWD,      # bool, 是否开启私有目录
    Name,              # string, 计算模型名称
    Description,       # string, 计算模型描述
    TypeID,            # int, 计算模型类型
    CustomName,        # string, 计算模型类型名称
    StarTime,          # float, 进程启动时间
    WorkerNum,         # int, 进程数
} 
```

### [GET]获取流程输入输出变量
**接口路径**

```
/api/graph/node/variable/get
```
**参数**

```
NodeID=1 #1 当VarID为空时返回ID=NodeID节点的所有变量，否则返回ID=VarID的变量 2查询流程输入变量时NodeID传Model的值 
VarID # 可选
TypeID # 可选
```
**返回值**

```
//以固定流程 热自燃为例  返回值中 TypeID=1的是输入变量  TypeID=2的是输出变量  TypeID=3的既是输入又是输出变量
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": [
        {
            "ID": 1,
            "Name": "empiricalData",
            "Description": null,
            "TypeID": 1,
            "IsLocal": false,
            "DataTypeID": 7,
            "ObjectType": null,
            "Dimension": 1,
            "Upper": null,
            "Lower": null,
            "Value": "null",
            "Choices": null,
            "Expression": null,
            "FunctionName": null,
            "Attributes": null,
            "FileID": 0,
            "FileDelimiter": null,
            "FileRow": "0",
            "FileColumn": "0",
            "IsDiscrete": false,
            "SourceType": 1,
            "DisplayType": 1
        },
        {
            "ID": 2,
            "Name": "table",
            "Description": null,
            "TypeID": 2,
            "IsLocal": false,
            "DataTypeID": 1,
            "ObjectType": null,
            "Dimension": 1,
            "Upper": null,
            "Lower": null,
            "Value": null,
            "Choices": null,
            "Expression": null,
            "FunctionName": null,
            "Attributes": null,
            "FileID": 0,
            "FileDelimiter": "$split_by_blank",
            "FileRow": "0",
            "FileColumn": "0",
            "IsDiscrete": false,
            "SourceType": 1,
            "DisplayType": 1
        },
        {
            "ID": 3,
            "Name": "autoignitionTarget",
            "Description": null,
            "TypeID": 2,
            "IsLocal": false,
            "DataTypeID": 7,
            "ObjectType": null,
            "Dimension": 1,
            "Upper": null,
            "Lower": null,
            "Value": "null",
            "Choices": null,
            "Expression": null,
            "FunctionName": null,
            "Attributes": null,
            "FileID": 0,
            "FileDelimiter": "$split_by_blank",
            "FileRow": "0",
            "FileColumn": "0",
            "IsDiscrete": false,
            "SourceType": 1,
            "DisplayType": 1
        },
        {
            "ID": 4,
            "Name": "criterionResult",
            "Description": null,
            "TypeID": 2,
            "IsLocal": false,
            "DataTypeID": 5,
            "ObjectType": null,
            "Dimension": 1,
            "Upper": null,
            "Lower": null,
            "Value": null,
            "Choices": null,
            "Expression": null,
            "FunctionName": null,
            "Attributes": null,
            "FileID": 0,
            "FileDelimiter": "$split_by_blank",
            "FileRow": "0",
            "FileColumn": "0",
            "IsDiscrete": false,
            "SourceType": 1,
            "DisplayType": 1
        }
    ]
}
```

### [POST]编辑计算模型

**接口路径**

```
api/calcmodel/calcmodel/update
```

**参数**

```
ID          : int       计算模型ID
Name        : string    计算模型名称
Description : string    计算模型描述
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，计算模型信息
}

ResponseContent:
{
    ID,                # int, 计算模型ID
    Name,              # string, 计算模型名称
    Description,       # string, 计算模型描述
    CallUnitID,        # int, 计算单元ID
    TypeID,            # int, 计算模型类型，1代表exe计算模型、2代表func计算模型、3代表graph计算模型。
    CustomName,        # string, 计算模型类型名称
} 
```

### [POST]编辑计算模型信息

**接口路径**

```
api/calcmodel/calcmodel/update_info
```

**参数**

```
ID               : int       计算模型ID
Name             : string    计算模型名称
Description      : string    计算模型描述
IsPrivateCWD     ：bool      是否开启私有目录
Timeout          : int       超时时间设定，单位是秒
OnTimeout        : int       超时后的处理方式，默认传0即可
WorkerNum        : int       进程数
```

**返回值**

```
{
    ResponseCode       # int，返回状态。修改成功为0，修改失败为非0值
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # string，貌似没啥返回内容
} 
```

### [POST]删除计算模型

**接口路径**

```
api/calcmodel/calcmodel/delete
```

**参数**

```
ID                   : int       计算模型ID
IsDeleteCallUnit     ：bool      是否删除对应的计算单元，默认传true即可
```

**返回值**

```
{
    ResponseCode       # int，返回状态。成功为0，失败为非0值（此接口返回值目前存在问题，删除成功与否返回值都是0
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，true代表删除成功
} 
```

### [POST]批量删除计算模型

**接口路径**

```
api/calcmodel/calcmodel/batch_delete
```

**参数**

```
IDs                  : list      计算模型ID列表
IsDeleteCallUnit     ：bool      是否删除对应的计算单元，默认传true即可
```

**返回值**

```
{
    ResponseCode       # int，返回状态。成功为0，失败为非0值（此接口返回值目前存在问题，删除成功与否返回值都是0）
    ResponseName       # string，预留字段，暂未使用
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，true代表删除成功（此接口返回值目前存在问题，删除成功与否返回值都是true）
} 
```


### [POST/GET]流程自检接口

**接口路径**

```
api/calcmodel/calcmodel/check
```

**参数**

```
ModelID                # int，计算模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。若可以正常执行为"null"，若不能执行则为辅助用户进行流程修正的错误信息
    ResponseContent    # bool，true表示可以正常执行，false表示不能正常执行
}
```

##计算流程图形节点
详见[gitee知识库-计算流程图像节点接口文档](https://e.gitee.com/rhotheta/projects/55605/docs/586994/file/1425028?sub_id=4035232).
### [get]获取流程主页面的画布结构信息（流程连线和节点信息）
 **接口路径**
```
/api/graph/get_structure
```
 **参数**
```
GraphNodeID=1  #  数据取自ModelID
_t=1652421962172  # 可选
```

 **返回值** 

```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "nodes": [
            {
                "ID": 0,
                "CallUnitID": 1,
                "Name": "Input",
                "Layout": {
                    "x": 410,
                    "y": 200,
                    "name": "Input",
                    "type": 0,
                    "icon": "icon-aidt-in-point",
                    "label": "Input"
                }
            },
            {
                "ID": -1,
                "CallUnitID": 1,
                "Name": "Output",
                "Layout": {
                    "x": 960,
                    "y": 140,
                    "name": "Output",
                    "type": -1,
                    "icon": "icon-aidt-out-point",
                    "label": "Output"
                }
            },
            {
                "ID": 2,
                "CallUnitID": 2,
                "Name": "FileLoader",
                "Layout": {
                    "x": 520,
                    "y": 200,
                    "name": "FileLoader",
                    "type": 4,
                    "icon": "icon-aidt-exe",
                    "label": "FileLoader"
                },
                "TypeID": 4
            },
            {
                "ID": 3,
                "CallUnitID": 3,
                "Name": "Autoignition",
                "Layout": {
                    "x": 640,
                    "y": 200,
                    "name": "Autoignition",
                    "type": 4,
                    "icon": "icon-aidt-exe",
                    "label": "Autoignition"
                },
                "TypeID": 4
            },
            {
                "ID": 4,
                "CallUnitID": 4,
                "Name": "Criterion",
                "Layout": {
                    "x": 790,
                    "y": 200,
                    "name": "Criterion",
                    "type": 4,
                    "icon": "icon-aidt-exe",
                    "label": "Criterion"
                },
                "TypeID": 4
            }
        ],
        "lines": [
            {
                "ID": 1,
                "GraphID": 1,
                "FromNodeID": 0,
                "ToNodeID": 2,
                "Description": null,
                "Layout": null,
                "Name": null
            },
            {
                "ID": 2,
                "GraphID": 1,
                "FromNodeID": 2,
                "ToNodeID": 3,
                "Description": null,
                "Layout": null,
                "Name": null
            },
            {
                "ID": 3,
                "GraphID": 1,
                "FromNodeID": 3,
                "ToNodeID": 4,
                "Description": null,
                "Layout": null,
                "Name": null
            },
            {
                "ID": 4,
                "GraphID": 1,
                "FromNodeID": 4,
                "ToNodeID": -1,
                "Description": null,
                "Layout": null,
                "Name": null
            }
        ],
        "Layout": {
            "x": 0,
            "y": 0,
            "grid": false,
            "num": -1,
            "connType": "Flowchart",
            "pointType": "Dot",
            "color": "#12739e",
            "hoverColor": "#339a66",
            "colors": [
                "#12739e",
                "#339a66",
                "#12739e",
                "#339a66",
                "#d42d27",
                "#faaf3a"
            ]
        }
    }
}
```

## 评估任务
### [POST]添加评估算例输入列表


 **接口路径** 

```
api/evalinput/input_table/add
```

 **参数** 

```
ModelID            ：int       计算模型ID
Name               ：string    算例输入列表名称
OptProblemID       ：int       优化问题ID，如果是普通的批量评估任务，传0即可；如果是基于优化问题的批量评估，则指向对应的优化问题ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例输入列表基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
} 
```
### [GET]获取批量评估表格基础信息


 **接口路径** 

```
api/evalinput/input_table/get_one
```

 **参数** 

```
ID         ：int       输入变量表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，输入变量表格基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
### [POST]更新批量评估表格基础信息


 **接口路径** 

```
api/evalinput/input_table/update
```

 **参数** 

```
ID         ：int       输入变量表格ID
Name       ：string    输入变量表格名称
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，输入变量表格基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
### [POST]删除批量评估表格


 **接口路径** 

```
api/evalinput/input_table/delete
```

 **参数** 

```
ID         ：int       输入变量表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [POST]批量删除批量评估表格


 **接口路径** 

```
api/evalinput/input_table/batch_delete
```

 **参数** 

```
batch_delete         ：list       输入变量表格ID列表
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [GET]获取批量评估表格所有数据


 **接口路径** 

```
api/evalinput/input_row/get_all
```

 **参数** 

```
InputTableID          ：int       批量评估表格ID
```

 **返回值** 

```
{
    ResponseCode              # int，返回状态。正常为0，错误为非0值
	ResponseName              # string，这个不知道是干啥用的
    ResponseMsg               # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[item,]    # list of json，评估算例信息
}

item:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [GET]获取批量评估表格数据数量


 **接口路径** 

```
api/evalinput/input_row/count
```

 **参数** 

```
InputTableID          ：int       批量评估表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，数据数量
} 
```
### [POST]添加评估算例


 **接口路径** 

```
api/evalinput/input_row/add
```

 **参数** 

```
InputTableID       : int       批量评估表格ID
Name               ：string    算例名称
SubSpaceID         ：int       设计子空间ID，暂时未用，默认传0即可
Inputs             ：dict      输入变量名称+输入变量值的键值对组成的字典
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [GET]获取评估算例信息


 **接口路径** 

```
api/evalinput/input_row/get_one
```

 **参数** 

```
ID       : int       评估算例ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [POST]编辑评估算例信息


 **接口路径** 

```
api/evalinput/input_row/update
```

 **参数** 

```
ID                 : int       评估算例ID
Name               ：string    算例名称
SubSpaceID         ：int       设计子空间ID，暂时未用，默认传0即可
Inputs             ：dict      输入变量名称+输入变量值的键值对组成的字典
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [POST]删除批量评估算例


 **接口路径** 

```
api/evalinput/input_row/delete
```

 **参数** 

```
ID         ：int       评估算例ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [POST]批量删除批量评估算例


 **接口路径** 

```
api/evalinput/input_row/batch_delete
```

 **参数** 

```
batch_delete         ：list       评估算例ID列表
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [POST]获取该评估的所有动态文件接口

```/api/task/simulation/get_dynamic_files```

**参数** 
```
ID： 任务的主键
```

**返回值**
```
dict列表，每个元素如下所示，

ID          文件的主键
TypeID      文件的类型，不需要
InputType   输入文件的类型，不需要
Name        文件的名称
CallUnitID  不需要
IsDynamic   是否为动态文件，一定为True，不需要
Description 文件描述
RelPath     文件在工作目录中的相对路径，不需要
AbsPath     文件在磁盘上的绝对路径，不需要
IsFileExist 文件是否已经上传
```
### [POST]上传动态文件接口

```/api/task/simulation/upload```

**参数:通过Form传递**  
```
ID： 任务的主键
FileID：文件的主键
files： {"File": 上传的文件}
```
**返回值**
```
无
```
### [POST]下载动态文件接口

```/api/task/simulation/download```

**参数** 
```
ID： 任务的主键
FileID：文件的主键
```

**返回值**
```
下载的文件
```

## 任务节点状态
### [POST]获取任务完成后节点状态

```/api/task/debug/state/get_node_status_dict```

**参数** 
```
{
    "TaskID":1,
    "NodeStatusList":[]    # NodeStatusList 可不传 筛选状态用
}
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "nodes_status": {
            "2": {
                "node_status": "NODE_END",
                "state": 4
            },
            "3": {
                "node_status": "NODE_END",
                "state": 4
            },
            "4": {
                "node_status": "NODE_END",
                "state": 4
            },
            "6": {
                "node_status": "NODE_END",
                "state": 4
            },
            "5": {
                "node_status": "NODE_END",
                "state": 4
            }
        },
        "vm_state": 4
    }
}
```
## 工具箱添加节点相关接口
### [get]获取所有工具箱

```/api/toolbox/get_all_tools```

**参数** 
```
_t=1652685503477
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": {
    "basic": [
      {
        "Label": "Tailors",
        "ID": 1,
        "Icon": "icon-aidt-course",
        "Visible": true,
        "IsGroup": true,
        "Description": null,
        "Children": [
          {
            "Label": "Data Loader",
            "ID": 2,
            "Icon": null,
            "Visible": true,
            "IsGroup": true,
            "Description": null,
            "Children": [
              {
                "ID": 3,
                "Label": "FileLoader",
                "Order": 0,
                "CULibraryName": "basic",
                "CUID": 11,
                "ParentID": 2,
                "CUName": "unilab.tailors.dataLoader",
                "IdentifyName": "unilab_tailors_dataLoader",
                "Icon": null,
                "TypeID": 4,
                "TypeName": null,
                "Description": null
              },
              {
                "ID": 4,
                "Label": "Autoignition",
                "Order": 0,
                "CULibraryName": "basic",
                "CUID": 8,
                "ParentID": 2,
                "CUName": "unilab.tailors.autoignition",
                "IdentifyName": "unilab_tailors_autoignition",
                "Icon": null,
                "TypeID": 4,
                "TypeName": null,
                "Description": "calculate spontaneous combustion time"
              },
              {
                "ID": 5,
                "Label": "AutoignitionMean",
                "Order": 0,
                "CULibraryName": "basic",
                "CUID": 9,
                "ParentID": 2,
                "CUName": "unilab.tailors.autoignitionMean",
                "IdentifyName": "unilab_tailors_autoignitionMean",
                "Icon": null,
                "TypeID": 4,
                "TypeName": null,
                "Description": "calculate spontaneous combustion mean time"
              },
              {
                "ID": 6,
                "Label": "Criterion",
                "Order": 0,
                "CULibraryName": "basic",
                "CUID": 10,
                "ParentID": 2,
                "CUName": "unilab.tailors.criterion",
                "IdentifyName": "unilab_tailors_criterion",
                "Icon": null,
                "TypeID": 4,
                "TypeName": null,
                "Description": "spontaneous combustion time criterion"
              }
            ]
          }
        ]
      }
    ],
    "custom": [
      {
        "Label": "自定义节点",
        "ID": 1,
        "Icon": "icon-aiexempower-custom",
        "Visible": true,
        "IsGroup": true,
        "Description": null,
        "Children": []
      }
    ]
  }
}
```
### [post]新增工具箱节点到画布

```/api/graph/node/add```

**参数** 
```
//TBCuid与TBCuname至少传一项
{
    "GraphNodeID": 1,  # modelID 必传
    "NodeName": "FileLoader", # 工具箱节点name
    "TBName": "basic", # 工具箱名称 必传 
    "TBCuid": "11",  # 工具箱节点Cuid 来自1号接口 children 返回的对应的CUID
    "Layout": {
        "x": 499,
        "y": 168,
        "typeName": "FileLoader",
        "icon": null,
        "label": "Data Loader",
        "name": "Data Loader",
        "type": 4
    }
}
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": [
        {
            "ID": 7,
            "GraphID": 1,
            "CallUnitID": 7,
            "Name": "FileLoader2",
            "Description": null,
            "Layout": {
                "x": 499,
                "y": 168,
                "typeName": "FileLoader",
                "icon": null,
                "label": "FileLoader",
                "name": "FileLoader",
                "type": 4
            },
            "TypeID": 4,
            "TypeName": null,
            "Timeout": -1.0,
            "IsDistributed": false,
            "SlaveInfo": null
        }
    ]
}
```
### [post]删除主画布工具箱节点

``` /api/graph/node/delete```

**参数** 
```
{
  "NodeID": 7,  # 节点ID 必填
  "IsDeleteCallUnit": "auto" # 是否同步删除CU 必填
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
### [post]更新主画布工具箱节点

``` /api/graph/node/update```

**参数** 
```
{
  "NodeID": 4,  # 节点ID 必填
  "Name": "Criterion",  # 节点名称 必填
  "Description": "",
  "IsDistributed": false,  # 是否是分布式节点 必填
  "SlaveInfo": {  # 分布式属性 必填
    "auto_allocate": false,
    "identity": ""
  }
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
### [post]节点连线

``` /api/graph/line/add```

**参数** 
```
{
  "GraphNodeID": 5,  # model ID 必填
  "FromNodeID": 0,  # 连线起始节点ID 必填  0是input 的默认id
  "ToNodeID": -1,  # 连接结束节点ID 必填   -1是output的默认id
  "Description": "",
  "Layout": "",
  "ID": 0,
  "Type": 0
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": {
    "ID": 6,
    "GraphID": 5,
    "FromNodeID": 0,
    "ToNodeID": -1,
    "Description": null,
    "Layout": null,
    "Name": null
  }
}
```
### [get]获取节点连线信息

```api/graph/line/variable/get```

**参数** 
```
LineID=6  # 连线ID 必填
_t=1652689448100  # 可选
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": {
    "line_variables": [],
    "from_variables": [],
    "to_variables": []
  }
}
```
### [post]连线自动匹配

```api/graph/line/variable/auto_pair```

**参数** 
```
{
  "LineID": 6
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
### [post]新建连线配置

```api/graph/line/variable/add```

**参数** 
```
{
    "GraphID": 16,  # 流程图ID 取model id即可 必传
    "LineID": 16,  # 流程图连线ID 取model id即可 必传
    "FromVarID": 35,  # 传输来源变量ID
    "ToVarID": 36  # 传输目标变量ID
}
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "ID": 7,
        "GraphID": 16,
        "GraphLineID": 16,
        "FromNodeID": 18,
        "FromVarID": 35,
        "ToNodeID": 19,
        "ToVarID": 36,
        "Description": null
    }
}
```
### [post]删除连线配置

```api/graph/line/delete```

**参数** 
```
{"LineID": 1}  # 连线ID 必填
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
### [post]获取节点输入输出文件

```api/graph/node/file/get```

**参数** 
```
NodeID=5
TypeID=2
_t = 1234104810908
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": []
}
```
### [post]添加节点变量

```api/graph/node/variable/add```

**参数** 
```
{
  "NodeID": 16,  # 输入输出节点的话 直接取modelID的值 必填
  "Name": "empiricalData",  # 变量名称  必填
  "DataTypeID":7, #变量数据类型 必填:Object=1,Float=2,Int=3,String=4,Bool=5,DateTime=6,Json=7
  "Lower": -100000000000000, # 变量取值下限
  "Upper": 100000000000000, # 变量取值上限 
  "Value": 0, # 变量值，默认0
  "Description": "",
  "TypeID": 1, # 变量类型   1输入变量  2输出变量   3既是输入也是输出变量   默认1  4是环境变量env_args 
  "SourceType": 1, # 变量来源  1连线   2表达式   3文件  默认1
  "IsDiscrete": false # 是否是离散类型
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": {
    "ID": 15,
    "Name": "input1",
    "Description": "",
    "TypeID": 1,
    "IsLocal": false,
    "DataTypeID": 2,
    "ObjectType": null,
    "Dimension": 1,
    "Upper": "100000000000000.0",
    "Lower": "-100000000000000.0",
    "Value": "0.0",
    "Choices": null,
    "Expression": null,
    "FunctionName": null,
    "Attributes": null,
    "FileID": 0,
    "FileDelimiter": null,
    "FileRow": null,
    "FileColumn": null,
    "IsDiscrete": false,
    "SourceType": 1,
    "DisplayType": 1
  }
}
```
### [post]更新节点变量

```aapi/graph/node/variable/update```

**参数** 
```
修改热自然流程判据节点示例：
{
    "NodeID": 5,
    "ID": 14,
    "Value": {
        "criterionList": [
            "autoignitionStats > 1",  # 此判据为新增
            "autoignitionStats > 10",
            "autoignitionStats > 2000"
        ],
        "criterionCondition": "autoignitionStats > 10"
    }
}
标准输入：
{
    "NodeID": "节点ID",  # 必填
    "ID": "变量ID",  # 必填
    "Name": "变量名称",
    "Description": "变量说明",
    "DataTypeID": "变量数据类型",
    "Lower": "变量取值下限",
    "Upper": "变量取值上限",
    "Value": "变量默认值",
    "Expression": "变量表达式",
    "SourceType": "变量来源",
    "IsDiscrete": "是否是离散变量",
    "Choices": "离散取值，以英文逗号分隔",
    "Dimension": "",
    "IsOptional": "是否必填",
    "IsValist": "是否是列表",
    "Constraint": "变量约束",
    "ObjectType": "",
    "Format": "",
    "FileID": "变量关联的文件ID",
    "FileRowAnchor": "变量行锚点",
    "FileRow": "变量在文件里的行数",
    "FileColumnType": "变量列类型",
    "FileDelimiter": "变量分隔符",
    "FileColumn": "变量在文件里的列数",
    "FunctionName": "",
    "Attributes": ""
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
### [post]删除节点变量

```api/graph/node/variable/delete```

**参数** 
```
{
  "ID": 11,  # 变量id 必填
  "NodeID": 5, # 节点id 必填
}
```

**返回值**
```
{
  "ResponseCode": 0,
  "ResponseName": null,
  "ResponseMsg": null,
  "ResponseContent": true
}
```
## 流程管理操作相关节点接口
### [post]新增并配置评估任务信息

```/api/task/evaluation/add```

**参数** 
```
{
    "Name": "test_rzr",   //本次的评估任务名称  不可重复提交同一个
    "ModelID": 1,  //流程id  事先查询一下 通过第一步的get_one_by_name接口
    "Cwd": "",
    "Description": "",
    "Inputs": {
        "empiricalData": {
            "SampleNo": [
                1,
                2,
                3
            ],
            "SampleState": [
                "自燃",
                "自燃",
                "未自燃"
            ],
            "StartDate": [
                123,
                456,
                789
            ],
            "EndDate": [
                125,
                459,
                799
            ],
            "ExperimentDataId": 1
        }
    }
}
```

**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":{
        "ID":215,  //任务id 给后续的submit接口用
        "Name":"TEST-流程1",
        "TypeID":2,
        "SubTypeID":null,
        "State":1,
        "ModelName":"流程1",
        "ModelID":1,
        "Description":"",
        "Cwd":null,
        "Inputs":[xxxxxxx

        ]
    }
}
```
### [post]新增并配置评估任务信息

```/api/task/common/submit```

**参数** 
```
{
    "Name": "test_rzr",   //本次的评估任务名称  不可重复提交同一个
    "ModelID": 1,  //流程id  事先查询一下 通过第一步的get_one_by_name接口
    "Cwd": "",
    "Description": "",
    "Inputs": {
        "empiricalData": {
            "SampleNo": [
                1,
                2,
                3
            ],
            "SampleState": [
                "自燃",
                "自燃",
                "未自燃"
            ],
            "StartDate": [
                123,
                456,
                789
            ],
            "EndDate": [
                125,
                459,
                799
            ],
            "ExperimentDataId": 1
        }
    }
}
```

**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":{
        "ID":215,  //任务id 给后续的submit接口用
        "Name":"TEST-流程1",
        "TypeID":2,
        "SubTypeID":null,
        "State":1,
        "ModelName":"流程1",
        "ModelID":1,
        "Description":"",
        "Cwd":null,
        "Inputs":[xxxxxxx

        ]
    }
}
```
### [get]查询任务状态信息

```/api/task/evaluation/state/get_static```

**参数** 
```
ID=215
```

**返回值**
```
{
    "ResponseCode":0,
    "ResponseName":null,
    "ResponseMsg":null,
    "ResponseContent":{
        "ID":215,
        "ModelID":1,
        "CallUnitID":1,
        "OptProblemID":null,
        "InputTableID":0,
        "SurrogateID":1,
        "TypeID":2,
        "SubTypeID":null,
        "ExecTypeID":0,
        "Name":"TEST-流程1",
        "Description":"",
        "State":4, //1 编辑中， 2 排队中， 3 执行中， 4 已完成 error中有错误信息则为失败 否则为null
        "StartTime":null,
        "EndTime":null,
        "TotalTime":null,
        "Error":null,
        "Attributes":null
    }
}
```
### [get]查询任务状态信息

```/api/task/evaluation/state/get_realtime```

**参数** 
```
ID=215
Time=0  //必传 起始时间 给0就行
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "TaskID": 215,
        "State": 4,
        "Error": null
    }
}
```
### [get]查询任务状态信息

```/api/task/evaluation/result/get_summary```

**参数** 
```
ID=215
```

**返回值**
```
//对应`get_summary`接口的返回值的content state字段

InEdit = 1  // 编辑中
# submitted
Waiting = 2  // 排队中
Processing = 3  // 处理中
Finished = 4  //已完成
** 如果是失败的任务 则会在返回值的error中有错误信息  否则就是null

{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "ID": 14,
        "TaskName": "20",
        "TypeID": 2,
        "State": 4,
        "Description": "",
        "TimeElapsed": 0.16544628143310547,
        "ModelID": 32,
        "SurrogateID": 15,
        "OptProblemID": null,
        "CWD": "D:/code/pfsj/test\\../tmp/pfsj_proj\\default\\../cwd/default\\32\\15\\14",
        "ModelName": "combustion_subprocess",
        "Inputs": [
            {
                "ID": 163,
                "Name": "CB_P_value",
                "DataTypeID": 2,
                "Lower": "0",
                "Upper": "1",
                "Value": 8.0,
                "Choices": null,
                "IsDiscrete": false,
                "Expression": null,
                "DisplayType": 1
            }
        ],
        "Outputs": [
            {
                "Name": "rs",
                "Value": 0.994228,
                "DataTypeID": 1
            },
            {
                "Name": "yq",
                "Value": -0.286265,
                "DataTypeID": 1
            }
        ],
        "StartTime": 1650954628.782877,
        "EndTime": 1650954628.948323,
        "Error": null
    }
}
```
### [get]查询任务的历史数据

```/api/task/evaluation/state/get_history```

**参数** 
```
ID=1  # 必传 任务id
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "Time": 1652769205.6017654,
        "RunningTime": 0.17191791534423828,
        "SucceededCount": 0,
        "FailedCount": 1,
        "RunningCount": 0,
        "Data": [
            {
                "Result": {
                    "ID": 1,
                    "executor_name": null,
                    "start": 1652768590.407907,
                    "worker_name": "local",
                    "lpid": 1,
                    "state": 3,
                    "end": 1652768590.579825,
                    "data": {
                        "_TaskID": 1,
                        "empiricalData": {
                            "SampleNo": [
                                1,
                                2,
                                3
                            ],
                            "SampleState": [
                                "自燃",
                                "自燃",
                                "未自燃"
                            ],
                            "StartDate": [
                                123,
                                456,
                                789
                            ],
                            "EndDate": [
                                125,
                                459,
                                799
                            ],
                            "ExperimentDataId": 1
                        },
                        "_AIPOD_TaskID": 1,
                        "_AIPOD_TaskTypeID": 2,
                        "__cwd__": "D:\\code\\unilab\\tmp\\test\\default\\../cwd/default\\1\\1\\1\\",
                        "__files__": null,
                        "_cwd_": "D:\\code\\unilab\\tmp\\test\\default\\../cwd/default\\1\\1\\1\\",
                        "_path_": "D:\\code\\unilab\\tmp\\test\\default\\model\\calcmodel.db3",
                        "_factory_name_": "unilab.factory.create_factory",
                        "_model_name_": "42storage",
                        "_node_file_": null,
                        "_node_table_": null,
                        "_is_clear_cwd_": false,
                        "_server_url_": null,
                        "table": null,
                        "criterion_res": null
                    },
                    "err": "'试验结束日期'"
                },
                "RunningTime": 0.17191791534423828,
                "Progress": 1,
                "Logs": [
                    {
                        "ID": 1,
                        "node_url": "42storage/FileLoader",
                        "start_time": 1652768590.501593,
                        "end_time": 1652768590.564248,
                        "elapsed": 0.06265473365783691,
                        "error": null,
                        "running_time": 0.06265473365783691,
                        "progress": 1
                    },
                    {
                        "ID": 2,
                        "node_url": "42storage/Autoignition",
                        "start_time": 1652768590.564248,
                        "end_time": 1652768590.564248,
                        "elapsed": 3600,
                        "error": "'试验结束日期'",
                        "running_time": 3600,
                        "progress": 1
                    }
                ]
            }
        ],
        "TaskID": 1,
        "State": 4
    }
}
```
### [get]获取流程所有的任务

```/api/task/common/select```

**参数** 
```
States=4  # 代表已完成的任务 筛选用
OrderBy=ID+desc  # 排序方式  默认
PageSize=20  #  必传  返回数据量
PageNo=1  # 必传  数据量大的话  页数  分几页返回  
ModelID=1  # 流程id 必传  其他参数都是 过滤参数
_t=1652770513131
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": [
        {
            "ID": 2,
            "ModelID": 1,
            "CallUnitID": 1,
            "OptProblemID": null,
            "InputTableID": 0,
            "SurrogateID": 0,
            "TypeID": 2,
            "SubTypeID": null,
            "ExecTypeID": 0,
            "Name": "任务名称",
            "Description": "0",
            "State": 4,
            "StartTime": 1652755502.777903,
            "EndTime": 1652755502.777903,
            "TotalTime": 0.0,
            "Error": "'list' object has no attribute 'items'\ntask 2/2 not exist",
            "Attributes": null
        },
        {
            "ID": 1,
            "ModelID": 1,
            "CallUnitID": 1,
            "OptProblemID": null,
            "InputTableID": 0,
            "SurrogateID": 1,
            "TypeID": 2,
            "SubTypeID": null,
            "ExecTypeID": 0,
            "Name": "test_rzr",
            "Description": "",
            "State": 4,
            "StartTime": 1652768590.407907,
            "EndTime": 1652768590.579825,
            "TotalTime": 0.17191791534423828,
            "Error": "'试验结束日期'",
            "Attributes": null
        }
    ]
}
```
### [get]统计已完成任务数量

```/api/task/common/count_finished```

**参数** 
```
ModelID=1
_t=1652771721924
```

**返回值**
```
{
    "ResponseCode": 0,
    "ResponseName": null,
    "ResponseMsg": null,
    "ResponseContent": {
        "Simulation": {
            "Succeeded": 0,
            "Failed": 2
        },
        "Sampling": {
            "Succeeded": 0,
            "Failed": 0
        },
        "Training": {
            "Succeeded": 0,
            "Failed": 0
        },
        "Optimization": {
            "Succeeded": 0,
            "Failed": 0
        },
        "robust_design": {
            "Succeeded": 0,
            "Failed": 0
        },
        "TotalSucceeded": 0,
        "TotalFailed": 2
    }
}
```