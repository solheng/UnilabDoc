# 附录(API大全)

本文档仅收录与二次开发强相关的api

更全面的aipod的接口文档请参考 [gitee知识库](https://e.gitee.com/rhotheta/projects/55605/docs?direction=asc&directory=291338&page=1&program_id=55605&scope=root&sort=updated_at).

## DOE任务

* `mkdocs new [dir-name]` - Create a new project.
* `mkdocs serve` - Start the live-reloading docs server.
* `mkdocs build` - Build the documentation site.
* `mkdocs -h` - Print help message and exit.
### [POST]添加DOE任务


 **接口路径** 

```
api/task/sampling/add
```

 **参数** 

```
ModelID             : int       计算模型ID
Name                ：string    任务名称
Description         ：string    任务描述
SampleMethod        ：string    DOE方法（目前只有uniform和evaluation两个，uniform是均匀采样算法，需要指定采样规模；evaluation是此前的批量评估任务）
SampleSize          ：int       采样规模，主要服务于采样算法，因此DOE算法选择evaluation时，传null
SampleParameter     : json      采样算法其它参数

SampleParameter
{
变量ID              : json      变量基础信息
}

变量ID
{
is_active           : bool      是否作为采样变量标记
level               ：int       采样水平
lower               ：float     变量下限
upper               ：float     变量上限
value               ：float     变量默认值
}
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [GET]获取DOE任务信息


 **接口路径** 

```
api/task/sampling/get_one
```

 **参数** 

```
ID         : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [POST]更新DOE任务


 **接口路径** 

```
api/task/sampling/update
```

 **参数** 

```
ID                  : int       任务ID
Name                ：string    任务名称
Description         ：string    任务描述
SampleMethod        ：string    DOE方法（目前只有uniform和evaluation两个，uniform是均匀采样算法，需要指定采样规模；evaluation是此前的批量评估任务）
SampleSize          ：int       采样规模，主要服务于采样算法，因此DOE算法选择evaluation时，传null
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    ID,                # int, 任务ID
	Name,              # string 任务名称
	TypeID,            # int, 任务类型
	ModelID,           # int, 计算模型ID
	InputTableID,      # int, 待评估算例列表（仅在DOE方法选择evaluation时有用）
	State,             # int, 任务状态
    SampleSize         # int, 采样规模
	WorkerNum,         # int, 进程数
	TaskTimeout,       # float, 超时时间
	SampleMethod,      # string, DOE方法
    Description,       # string, 任务描述
} 
```




### [POST]删除DOE任务


 **接口路径** 

```
api/task/sampling/delete
```

 **参数** 

```
ID           : int       任务ID
ClearCWD     ：bool      是否删除工程文件夹
```

 **返回值** 

```
接口报错
```





### [GET]获取DOE任务静态信息


 **接口路径** 

```
api/task/sampling/state/get_static
```

 **参数** 

```
ID              : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    TaskID,            # int, 任务ID
	TaskName,          # string 任务名称
	Timeout,           # int, 超时时间限定？
	SampleSize,        # int, 采样规模
	State,             # int, 任务状态
	SubmitTime,        # float, 任务提交时间
	StartTime,         # float, 任务开始执行时间
	RunTime,           # float, 任务持续时间（单位是秒）
	ModelID,           # int, 计算模型ID
    ModelName,         # string, 模型名称
} 
```




### [GET]获取DOE任务实时信息


 **接口路径** 

```
api/task/sampling/state/get_realtime
```

 **参数** 

```
ID              : int       任务ID
Time            ：float     时间戳
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务基础信息
}

ResponseContent:
{
    TaskID             # int, 任务ID
	State              # int, 任务状态
    Time,              # float, 当前时间戳
	RunningTime,       # float, 任务运行时长（单位是秒）
	SucceededCount,    # int, 成功算例个数
	FailedCount,       # int, 失败算例个数
	RunningCount,      # int, 计算中的算例个数
	Error,             # string, 任务错误信息
	Data[case,]        # list of json, 算例信息列表
} 

case
{
    Result,            # json, 算例结果信息
	RunningTime,       # float, 算例计算持续时间
	Progress,          # int, 不知道是啥玩意
	Logs[log,]         # list of json, 节点运行日志信息
}

log
{
    ID                 # int, 算例ID
	node_url           # string, 模型名称/节点名称
	start_time         # float, 节点开始执行时间
	end_time           # float, 节点执行结束时间
	elapsed            # float, 节点执行持续时间（单位是秒）
}

Result
{
    ID,                # int, 算例ID
	start,             # float, 开始时间
	state,             # int, 算例状态
	end,               # float, 结束时间
	data,              # json, 算例变量信息
	err,               # string, 算例错误信息
}

data
{
    变量名             # float, 变量值
	_cwd_              # string, 算例工程路径
}
```




### [GET]获取DOE任务结果信息


 **接口路径** 

```
api/task/sampling/result/get_summary
```

 **参数** 

```
ID              : int       任务ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # josn，DOE任务结果信息
}

ResponseContent:
{
    TaskID             # int, 任务ID
	TaskName           # string, 任务名称
	ModelID            # int, 计算模型ID
	CWD                # string, 任务工程路径
	ModelName          # string, 计算模型名称
	SampleSize         # int, 采样规模
	Success            # int, 成功算例个数
	StartTime          # float, 任务开始时间
	EndTime            # float, 任务结束时间
	Error              # string, 任务执行错误信息
} 
```





### [POST]获取DOE任务变量名称列表


 **接口路径** 

```
api/task/sampling/result/get_columns
```

 **参数** 

```
TaskID              : int       任务ID
```

 **返回值** 

```
接口报错
```




### [GET]获取DOE任务算例数量


 **接口路径** 

```
api/task/sampling/result/count
```

 **参数** 

```
TaskID              : int       任务ID
Where               : string    筛选条件，可以不传该参数
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，算例数量
}
```

### [GET]获取DOE任务算例信息


 **接口路径** 

```
api/task/sampling/result/select
```

 **参数** 

```
TaskID              : int       任务ID
Where               : string    筛选条件
PageSize            : int       单页显示算例个数
PageNo              : int       页数
```

 **返回值** 

```
{
    ResponseCode              # int，返回状态。正常为0，错误为非0值
	ResponseName              # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg               # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[Data,]    # list of json，算例信息
}	

Data
{
    ID                        # int, 算例ID
    变量名                    # float, 变量值	
}
```
### [GET]获取所有批量评估表格


 **接口路径** 

```
/api/evalinput/input_table/get_all
```

 **参数** 

```
ModelID         ：int       计算模型ID
OptProblemID    ：int       优化问题ID
```

 **返回值** 

```
{
    ResponseCode                     # int，返回状态。正常为0，错误为非0值
    ResponseMsg                      # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[input_table,]    # list of json，输入变量表格基础信息
}

input_table:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
## 代理模型
### [GET]获取计算模型的全部代理模型

**接口路径**

```
api/calcmodel/surrogate/get_all
```

**参数**

```
ModelID  : int       计算模型ID
```

**返回值**

```
{
    ResponseCode                   # int，返回状态。正常为0，错误为非0值
    ResponseMsg                    # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[Surrogate,]    # list of json，代理模型列表
}

Surrogate:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted,  # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型，1表示计算模型本身，2表示训练，3表示替换，4表示引用
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 分布式节点密码，默认填"aipod"就行
    IsSaveIO,          # bool, 不知道是啥，杨总说通常是true
    StarTime,          # float, 进程启动时间
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [POST]新建代理模型

**接口路径**

```
api/calcmodel/surrogate/add
```

**参数**

```
Name            ：string    代理模型名称
ModelID         : int       计算模型ID
TypeID          ：int       代理模型类型，默认传2即可
IsDisableCwd    : bool      禁用工程文件夹标记，默认为ture即可
ExecTypeID      ：int       执行器类型ID，默认传1即可
RefModelID      ：int       参考计算模型ID，默认传1即可
RefSurrogateID  : int       参考代理模型ID，默认传0即可
WorkerNum       : int       进程数，默认传1即可
TaskTimeout     ：float     任务超时时间，始终默认为1即可
Password        ：string    分布式节点密码，默认填"123456"就行
IsSaveIO        : bool,     默认传true即可
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [GET]获取代理模型资源树

**接口路径**

```
api/calcmodel/surrogate/get_tree
```

**参数**

```
SurrogateID     : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型文件信息
}

ResponseContent:
{
    Surrogate,                    # json, 代理模型基础信息
    Nodes[Node],                  # list of json, 画布节点信息
    MassEvalTasks[MassEvalTask],  # list of json, 评估任务列表
    Problems[Problem],            # list of json, 优化问题列表
}

{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
}

Node
{
    ID,                # int, 代理模型ID
    CallUnitID,        # int, 计算单元ID
    Name,              # string, 代理模型名称
    Layout,            # json, 节点画布属性
}

Layout
{
    x,                # int, 节点在画布中的横坐标
    y,                # int, 节点在画布中的纵坐标
    type,             # int, 节点类型，-1是Output、0是Input、1是exe，2是func、3是graph、4是DT
    icon,             # string, 图标名称
    name,             # string, 节点名称
    label,            # string, 节点标注
}

MassEvalTask
{
}

Problem
{
    ID,                               # int, 优化问题ID
    Name,                             # string 优化问题名称
    Description,                      # string, 优化问题描述
    ModelID,                          # int, 计算模型ID
    CallUnitID,                       # int, 计算单元ID
    DvCount                           # int, 设计变量数目
    ObjCount                          # int, 目标变量数目
    ConCount                          # int, 约束条件数目
    opt_tasks[opt_task]               # list of json, 优化任务列表
    MassEvalTasks[MassEvalTask]       # list of json, 评估任务列表
}

opt_task
{
    ID,                               # int, 优化任务ID
    ModelID,                          # int, 计算模型ID
    CallUnitID,                       # int, 计算单元ID
    TypeID,                           # int, 任务类型ID？
    ExecTypeID,                       # int, 这啥？
    Name,                             # string 优化任务名称
    Description,                      # string, 优化任务描述
    State,                            # int, 任务状态，1未提交，2等待中，3运行中，4已完成
    StartTime,                        # float, 任务开始时间戳
    EndTime,                          # float, 任务结束时间戳
    TotalTime,                        # float, 任务执行时间
    Error,                            # string, 错误信息
}
```

### [POST]下载代理模型

**接口路径**

```
api/calcmodel/surrogate/download
```

**参数**

```
SurrogateID     : int       代理模型ID
```

**返回值**

```
代理模型文件
```

### [POST]删除代理模型

**接口路径**

```
api/calcmodel/surrogate/delete
```

**参数**

```
ID     : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除信息
}
```

### [POST]修改代理模型信息

**接口路径**

```
api/calcmodel/surrogate/update
```

**参数**

```
ID              : int       代理模型ID
Name            ：string    代理模型名称
IsDisableCwd    : bool      禁用工程文件夹标记，默认为ture即可
ExecTypeID      ：int       执行器类型ID
RefModelID      ：int       参考计算模型ID
RefSurrogateID  : int       参考代理模型ID
WorkerNum       : int       进程数
TaskTimeout     ：float     任务超时时间，始终默认为1即可
Password        ：string    默认为"aipod"即可
IsSaveIO        : bool,     不知道是啥
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    IsDTModelExisted,  # bool, DT模型文件是否已存在，已存在表示训练完成
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [GET]获取代理模型信息

**接口路径**

```
api/calcmodel/surrogate/get_one
```

**参数**

```
ID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型基础信息
}

ResponseContent:
{
    ID,                # int, 代理模型ID
    Name,              # string 代理模型名称
    ModelID,           # int, 计算模型ID
    CallUnitID,        # int, 计算单元ID
    ModelName,         # string, 计算模型名称
    IsDTModelExisted   # bool, DT模型文件是否已存在，已存在表示训练完成
    TypeID,            # int, 代理模型类型
    WorkerNum,         # int, 进程数
    TaskTimeout,       # float, 超时时间
    PassWord,          # string, 密码？不知道是啥
    IsSaveIO,          # bool, 不知道是啥
    StarTime,          # float, 进程启动时间？
    Description,       # string, 计算模型描述
    IsRoot,            # bool, 计算模型标记，true表示为计算模型本身，false表示为代理模型
} 
```

### [POST]快速评估

**接口路径**

```
api/calcmodel/surrogate/predict
```

**参数**

```
SurrogateID  ：int  代理模型ID
Inputs       : json 输入变量键值对
```

**返回值**

```
{
    ResponseCode          # int，返回状态。正常为0，错误为非0值
    ResponseMsg           # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent       # json，结果信息
}

ResponseContent:
{
    Error,            # string, 错误信息，若计算正常，其值为None
    Outputs,          # json, 输出变量键值对
}
```

### [GET]获取代理模型训练任务（状态）信息

**接口路径**

```
api/calcmodel/surrogate_train/get_task
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型训练任务（状态）信息
}

ResponseContent:
{
    ID,                # int, 代理模型训练任务ID
    Name,              # string 代理模型训练任务名称
    ModelID,           # int, 计算模型ID
    TypeID,            # int, 任务类型ID，5表示训练任务
    State,             # int, 训练任务状态，1未提交，2等待中，3运行中，4已完成
    Description,       # string, 代理模型训练任务描述
    SurrogateVersion,  # int, 代理模型版本，每提交一次训练任务后，版本会自动加1
    SampleSize,        # int, 采样数量
} 
```

### [POST]定义代理模型训练任务

**接口路径**

```
api/calcmodel/surrogate_train/save_task
```

**参数**

```
SurrogateID         : int       代理模型ID
SampleSize          ：int       采样数量
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，代理模型训练任务（状态）信息
}

ResponseContent:
{
    ID,                # int, 代理模型训练任务ID
    Name,              # string 代理模型训练任务名称
    ModelID,           # int, 计算模型ID
    TypeID,            # int, 任务类型ID，5表示训练任务
    State,             # int, 训练任务状态，1未提交，2等待中，3运行中，4已完成
    Description,       # string, 代理模型训练任务描述
    SurrogateVersion,  # int, 代理模型版本，每提交一次训练任务后，版本会自动加1
    SampleSize,        # int, 采样数量
} 
```

### [POST]提交代理模型训练任务

**接口路径**

```
api/calcmodel/surrogate_train/submit
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务结果信息
}

ResponseContent:
{
    ID,                 # int, 训练任务ID
    ModelID,            # int, 计算模型ID
    CallUnitID,         # int, 计算单元ID
    TypeID,             # int, 分析任务类型。2代表仿真任务
    ExecTypeID,         # int, 执行器类型ID
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    Description,        # string, 任务描述
    TotalTime,          # float, 任务持续时长（s）
    Name,               # string, 训练任务名称
    StartTime,          # float, 计算开始时间
    EndTime,            # float,计算结束时间
    Error,              # string， 执行错误信息
} 
```

### [GET]训练任务静态信息获取

**接口路径**

```
api/calcmodel/surrogate_train/get_static
```

**参数**

```
SurrogateID         : int       代理模型ID
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务静态信息
}

ResponseContent:
{
    TaskID,             # int, 训练任务ID
    TaskName,           # string, 训练任务名称
    TimeNeeded,         # float, 任务所需时间
    DataSetSize,        # int, 当前数据集规模
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    SubmitTime,         # float, 任务提交时间戳
    StartTime,          # float, 任务开始时间戳
    RunTime,            # float, 任务运行运行时长（s）
    ModelID,            # int, 计算模型ID
    ModelName,          # string, 计算模型名称
} 
```

### [GET]训练任务数据实时获取接口

**接口路径**

```
api/calcmodel/surrogate_train/get_realtime
```

**参数**

```
SurrogateID         : int       代理模型ID
Time                ：float     时间戳
```

**返回值**

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，训练任务实时信息
}

ResponseContent:
{
    TaskID,             # int, 训练任务ID
    State,              # int, 任务运行状态。任务未提及时为1，提交后排队中为2，提交后运行中为3，运行完成为4
    Time,               # float, 接口返回时间戳
    RunningTime,        # float, 任务运行运行时长（s）
    SucceededCount,     # int, 成功算例数
    FailedCount,        # int, 失败算例数
    RunningCount,       # int, 计算中算例数
    Data[Data,],        # list of json, 算例数据
    TrainState,         # list of json, 训练状态，不好卡时间点，问杨总吧……
} 

Data
{
    Result,             # json，算例结果信息
    RunningTime,        # float，算例运行时间
    Progress,           # int，不知道是啥
    Logs[log]           # list of json，节点日志信息
}

Result
{
    ID,                 # int，算例ID
    executor_name,      # float，执行器名称
    start,              # float，开始时间戳
    worker_name,        # string，worker名称，分布式的东西，暂不考虑
    lpid,               # int，不知道是啥
    state,              # int，算例状态？
    end,                # float，结束时间戳
    data,               # json，算例信息
    err,                # string，错误信息
}

data
{
    变量名,             # float，变量值
}

log
{
    ID,                 # int，算例ID
    node_url,           # string，节点url
    start_time,         # float，节点开始运行时间戳
    end_time,           # float，节点结束运行时间戳
    elapsed,            # float，节点运行持续时长（s）
    error,              # string，节点运行错误信息，若无则节点正常运行结束
    running_time,       # float，节点运行时长（s）
    progress,           # int，不知道是啥

}
```
## 优化任务
详见[gitee知识库-优化任务接口](https://e.gitee.com/rhotheta/projects/55605/docs/291339/file/730472?sub_id=2297727).
## 工程管理
### 获取所有根部的分组(Process)以及分组的AIPOD项目接口
**接口路径**
```
/api/calcmodel/process/get_all
```
**参数**
```
ParentID：为0 ，表示获取根部的“文件夹”
          为ID， 获取其下的所有的AIPOD工程
```

**返回值**
```
列表，列表中的元素，
ID           主键，通过它能获取其他的对象
Name         名称
Description  描述说明
TypeID       工程的类型， -1表示是分组，否则就是AIPOD工程的类型
ModelID      AIPOD工程的ID，通过它来进入AIPOD的工程管理面板
CustomName   工程的类型名称
```

### 添加工程接口
**接口路径**
```
/api/calcmodel/process/add
```
**参数**
```
Name         名称
Description  描述说明
ParentID     所属分组的ID
TypeID       在CalcModel的TypeID的基础上，增加了Group类型 为  -1
CustomName   工程的类型名称
```
### 修改工程接口
```
/api/calcmodel/process/update
```
**参数**
```
Name         名称
Description  描述说明
```

### 删除工程接口
```
/api/calcmodel/process/delete
```
**参数**
```
ID           主键
IsDeleteCallUnit   auto
```


### [GET]获取批量评估表格数量


 **接口路径** 

```
/api/evalinput/input_table/count
```

 **参数** 

```
ModelID         ：int       计算模型ID
OptProblemID    ：int       优化问题ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，评估表格数量
} 
```
## 执行器
### [POST/GET]执行器是否已启动判定接口


 **接口路径** 

```
api/executor/executor/is_running
```

 **参数** 

```
ModelID                # int，计算模型ID
SurrogateID            # int，代理模型ID，该参数可以不传，若不传则后端默认为该Model下IsRoot=true的的代理模型
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseName       # string，应该是杨总的预留字段吧，目前没啥用？
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，true表示已经启动，false表示未启动
}
```
## 结果数据集
详见[gitee知识库-结果数据集接口文档](https://e.gitee.com/rhotheta/projects/55605/docs/617111/file/1483186?sub_id=4138023).
## 计算模型
详见[gitee知识库-计算模型接口文档](https://e.gitee.com/rhotheta/projects/55605/docs/586664/file/1424306?sub_id=4034107).
##计算流程图形节点
详见[gitee知识库-计算流程图像节点接口文档](https://e.gitee.com/rhotheta/projects/55605/docs/586994/file/1425028?sub_id=4035232).
## 评估任务
### [POST]添加评估算例输入列表


 **接口路径** 

```
api/evalinput/input_table/add
```

 **参数** 

```
ModelID            ：int       计算模型ID
Name               ：string    算例输入列表名称
OptProblemID       ：int       优化问题ID，如果是普通的批量评估任务，传0即可；如果是基于优化问题的批量评估，则指向对应的优化问题ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例输入列表基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
} 
```
### [GET]获取批量评估表格基础信息


 **接口路径** 

```
api/evalinput/input_table/get_one
```

 **参数** 

```
ID         ：int       输入变量表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，输入变量表格基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
### [POST]更新批量评估表格基础信息


 **接口路径** 

```
api/evalinput/input_table/update
```

 **参数** 

```
ID         ：int       输入变量表格ID
Name       ：string    输入变量表格名称
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，输入变量表格基础信息
}

ResponseContent:
{
    ID,                # int, 输入变量表格ID
	Name,              # string 输入变量表格名称
	ModelID,           # int, 计算模型ID
	CallUintID,        # int, 计算单元ID
	OptProblemID,      # int, 优化问题ID
}  
```
### [POST]删除批量评估表格


 **接口路径** 

```
api/evalinput/input_table/delete
```

 **参数** 

```
ID         ：int       输入变量表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [POST]批量删除批量评估表格


 **接口路径** 

```
api/evalinput/input_table/batch_delete
```

 **参数** 

```
batch_delete         ：list       输入变量表格ID列表
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [GET]获取批量评估表格所有数据


 **接口路径** 

```
api/evalinput/input_row/get_all
```

 **参数** 

```
InputTableID          ：int       批量评估表格ID
```

 **返回值** 

```
{
    ResponseCode              # int，返回状态。正常为0，错误为非0值
	ResponseName              # string，这个不知道是干啥用的
    ResponseMsg               # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent[item,]    # list of json，评估算例信息
}

item:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [GET]获取批量评估表格数据数量


 **接口路径** 

```
api/evalinput/input_row/count
```

 **参数** 

```
InputTableID          ：int       批量评估表格ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # int，数据数量
} 
```
### [POST]添加评估算例


 **接口路径** 

```
api/evalinput/input_row/add
```

 **参数** 

```
InputTableID       : int       批量评估表格ID
Name               ：string    算例名称
SubSpaceID         ：int       设计子空间ID，暂时未用，默认传0即可
Inputs             ：dict      输入变量名称+输入变量值的键值对组成的字典
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [GET]获取评估算例信息


 **接口路径** 

```
api/evalinput/input_row/get_one
```

 **参数** 

```
ID       : int       评估算例ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [POST]编辑评估算例信息


 **接口路径** 

```
api/evalinput/input_row/update
```

 **参数** 

```
ID                 : int       评估算例ID
Name               ：string    算例名称
SubSpaceID         ：int       设计子空间ID，暂时未用，默认传0即可
Inputs             ：dict      输入变量名称+输入变量值的键值对组成的字典
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # json，评估算例信息
}

ResponseContent:
{
    ID,                # int, 评估算例ID
	Name,              # string 算例名称
	InputTableID,      # int, 批量评估表格ID
	ModelID,           # int, 计算模型ID
	OptProblemID,      # int, 优化问题ID
	SubSpaceID,        # int, 设计子空间ID
	Inputs[input,],    # list of json, 输入变量值信息
} 

input:
{
    ID,                # int, 输入变量ID
	Name,              # string 输入变量名称
	Lower,             # float, 输入变量下限
	Upper,             # float, 输入变量上限
	Value,             # float, 算例对应的输入变量值
}
```
### [POST]删除批量评估算例


 **接口路径** 

```
api/evalinput/input_row/delete
```

 **参数** 

```
ID         ：int       评估算例ID
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### [POST]批量删除批量评估算例


 **接口路径** 

```
api/evalinput/input_row/batch_delete
```

 **参数** 

```
batch_delete         ：list       评估算例ID列表
```

 **返回值** 

```
{
    ResponseCode       # int，返回状态。正常为0，错误为非0值
	ResponseName       # string，这个不知道是干啥用的
    ResponseMsg        # string，返回状态信息。正常为"null"，错误则为错误信息
    ResponseContent    # bool，删除状态信息，true表示删除成功
}  
```
### 获取该评估的所有动态文件接口

```/api/task/simulation/get_dynamic_files```

**参数** 
```
ID： 任务的主键
```

**返回值**
```
dict列表，每个元素如下所示，

ID          文件的主键
TypeID      文件的类型，不需要
InputType   输入文件的类型，不需要
Name        文件的名称
CallUnitID  不需要
IsDynamic   是否为动态文件，一定为True，不需要
Description 文件描述
RelPath     文件在工作目录中的相对路径，不需要
AbsPath     文件在磁盘上的绝对路径，不需要
IsFileExist 文件是否已经上传
```
### 上传动态文件接口

```/api/task/simulation/upload```

**参数:通过Form传递**  
```
ID： 任务的主键
FileID：文件的主键
files： {"File": 上传的文件}
```
**返回值**
```
无
```
### 下载动态文件接口

```/api/task/simulation/download```

**参数** 
```
ID： 任务的主键
FileID：文件的主键
```

**返回值**
```
下载的文件
```
